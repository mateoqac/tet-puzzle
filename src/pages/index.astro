---
import BaseLayout from "../layouts/BaseLayout.astro";
import App from "../components/App";
import AdUnit from "../components/AdUnit";
import HomepageSeoContent from "../components/HomepageSeoContent";
import { generateBeginnerPuzzle } from "../lib/puzzleGenerator";
import SpeedInsights from "@vercel/speed-insights/astro";
const puzzle = generateBeginnerPuzzle();

const siteUrl = "https://tetonor.app";
const title = "Tet Puzzle - Free Online Number Logic Game";
const description =
  "Play Tet puzzle online, a challenging number logic game. Match pairs of numbers to create sums and products in this brain-training puzzle. Free to play daily.";
const imageUrl = `${siteUrl}/og-image.png`;

const structuredData = {
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "Organization",
      "@id": `${siteUrl}/#organization`,
      name: "Tet Puzzle",
      url: siteUrl,
      logo: {
        "@type": "ImageObject",
        url: `${siteUrl}/logo-512.png`,
        width: 512,
        height: 512,
      },
      foundingDate: "2024",
    },
    {
      "@type": "WebSite",
      "@id": `${siteUrl}/#website`,
      url: siteUrl,
      name: "Tet Puzzle",
      description: description,
      publisher: { "@id": `${siteUrl}/#organization` },
      inLanguage: ["en", "es"],
    },
    {
      "@type": "WebApplication",
      "@id": `${siteUrl}/#webapp`,
      name: "Tet Puzzle",
      url: siteUrl,
      description: description,
      applicationCategory: "GameApplication",
      operatingSystem: "Any",
      offers: {
        "@type": "Offer",
        price: "0",
        priceCurrency: "USD",
      },
      browserRequirements: "Requires JavaScript enabled",
      inLanguage: ["en-US", "es-ES"],
    },
    {
      "@type": "Game",
      "@id": `${siteUrl}/#game`,
      name: "Tet Puzzle",
      description:
        "Tet puzzle is a number logic game where players match pairs of numbers to achieve target sums and products.",
      gamePlatform: ["Web browser", "Mobile browser"],
      genre: ["Puzzle", "Logic", "Mathematics"],
      numberOfPlayers: {
        "@type": "QuantitativeValue",
        value: "1",
      },
      playMode: "SinglePlayer",
    },
    {
      "@type": "FAQPage",
      mainEntity: [
        {
          "@type": "Question",
          name: "What is Tet puzzle?",
          acceptedAnswer: {
            "@type": "Answer",
            text: "Tet puzzle is a number logic game. Players must match pairs of numbers from a pool to fill cells in a grid, where each pair must satisfy both a sum and a product requirement.",
          },
        },
        {
          "@type": "Question",
          name: "How do you play Tet puzzle?",
          acceptedAnswer: {
            "@type": "Answer",
            text: "In Tet puzzle, you are given a grid with cells showing target sums and products. You must select pairs of numbers from the available pool that add up to the sum and multiply to give the product. Each number can only be used once.",
          },
        },
        {
          "@type": "Question",
          name: "What makes Tet puzzle challenging?",
          acceptedAnswer: {
            "@type": "Answer",
            text: "Tet puzzle challenges players with number logic and mathematical reasoning. Each pair of numbers must be used exactly twice - once for addition and once for multiplication.",
          },
        },
        {
          "@type": "Question",
          name: "Is Tet Puzzle free to play?",
          acceptedAnswer: {
            "@type": "Answer",
            text: "Yes, Tet Puzzle is completely free to play. No registration or payment required.",
          },
        },
        {
          "@type": "Question",
          name: "How often are new puzzles available?",
          acceptedAnswer: {
            "@type": "Answer",
            text: "A new Daily Challenge puzzle is available every day. You can also play unlimited Free Play puzzles at any time.",
          },
        },
        {
          "@type": "Question",
          name: "Can I play previous daily puzzles?",
          acceptedAnswer: {
            "@type": "Answer",
            text: "Yes! Visit the Archive to access and play all previous daily challenge puzzles.",
          },
        },
      ],
    },
  ],
};
---

<BaseLayout
  title={title}
  description={description}
  canonicalPath="/"
  robots="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"
  showFooter={false}
>
  <Fragment slot="head">
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content={siteUrl} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={imageUrl} />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:site_name" content="Tet Puzzle" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:locale:alternate" content="es_ES" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content={siteUrl} />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content={imageUrl} />

    <!-- Additional Meta -->
    <meta
      name="keywords"
      content="tet puzzle, tetonor, number puzzle, logic game, brain teaser, math puzzle, daily puzzle, free online puzzle, arithmetic game, number logic"
    />
    <meta name="author" content="Tet Puzzle" />

    <!-- Structured Data -->
    <script
      type="application/ld+json"
      set:html={JSON.stringify(structuredData)}
    />
  </Fragment>

  <div class="flex justify-center gap-8 max-w-[1400px] mx-auto">
    <aside class="hidden xl:block shrink-0 w-40 self-start sticky top-8" aria-hidden="true">
      <AdUnit client:only="preact" slot="5475429127" />
    </aside>

    <main id="main-content" role="main" class="flex-initial min-w-0">
      <header class="sr-only">
        <h1>Play Tet Puzzle Online Free - Number Logic Game</h1>
        <p>
          Tet puzzle is a challenging number logic game. The puzzle presents a
          grid where each cell contains a target number. Players must find pairs
          of numbers from a given pool that both add up to the sum and multiply
          to give the product. Each number in the pool can only be used once,
          requiring careful logical deduction to solve the entire grid. This
          online version lets you play Tet puzzles for free, with varying
          difficulty levels from easy to expert.
        </p>
      </header>

      <article itemscope itemtype="https://schema.org/Game">
        <meta itemprop="name" content="Tet Puzzle" />
        <meta itemprop="description" content={description} />
        <App client:load initialPuzzle={puzzle} />
      </article>
    </main>

    <aside class="hidden xl:block shrink-0 w-40 self-start sticky top-8" aria-hidden="true">
      <AdUnit client:only="preact" slot="4102637707" />
    </aside>
  </div>

  <HomepageSeoContent client:visible />

  <SpeedInsights />
</BaseLayout>
